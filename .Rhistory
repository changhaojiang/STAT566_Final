knitr::opts_chunk$set(echo = TRUE)
data_dir <- "~/Documents/STAT566/Project"
diabetes <- fread(file.path(data_dir, "mitcr_sampleStatistics_20160714.tsv"))
library(data.table)
theme_set(theme_classic())
knitr::opts_chunk$set(echo = TRUE)
library(data.table)
library(tibble)
library(dplyr)
library(ggplot2)
library(ggpointdensity)
library(viridis)
library(foreach)
library(doParallel)
theme_set(theme_classic())
data_dir <- "~/Documents/STAT566/Project"
diabetes <- fread(file.path(data_dir, "mitcr_sampleStatistics_20160714.tsv"))
data_dir <- "~/Documents/STAT566/Project"
diabetes <- fread(file.path(data_dir, "diabetes_binary_5050split_health_indicators_BRFSS2015.csv"))
data_dir <- "~/Documents/STAT566/Project"
balanced_diabetes <- fread(file.path(data_dir, "diabetes_binary_5050split_health_indicators_BRFSS2015.csv"))
diabetes <- fread(file.path(data_dir,("diabetes_binary_health_indicators_BRFSS2015.csv"))
data_dir <- "~/Documents/STAT566/Project"
balanced_diabetes <- fread(file.path(data_dir, "diabetes_binary_5050split_health_indicators_BRFSS2015.csv"))
diabetes <- fread(file.path(data_dir,"diabetes_binary_health_indicators_BRFSS2015.csv"))
balanced_diabetes
data_dir <- "~/Documents/STAT566/Project"
balanced_diabetes <- fread(file.path(data_dir, "diabetes_binary_5050split_health_indicators_BRFSS2015.csv"))
diabetes <- fread(file.path(data_dir,"diabetes_binary_health_indicators_BRFSS2015.csv"))
dim(balanced_diabetes)
balanced_diabetes[1:3,]
dim(diabetes)
diabetes[1:3,]
fit.forest= randomForest(Diabetes_binary ~ HvyAlcoholConsump + Smoker +
PhysActivity + Fruits + Veggies,
data = balanced_diabetes, na.action = na.roughfix)
library(data.table)
library(randomForest)
data_dir <- "~/Documents/STAT566/Project"
balanced_diabetes <- fread(file.path(data_dir, "diabetes_binary_5050split_health_indicators_BRFSS2015.csv"))
diabetes <- fread(file.path(data_dir,"diabetes_binary_health_indicators_BRFSS2015.csv"))
dim(balanced_diabetes)
balanced_diabetes[1:3,]
dim(diabetes)
diabetes[1:3,]
fit.forest= randomForest(Diabetes_binary ~ HvyAlcoholConsump + Smoker +
PhysActivity + Fruits + Veggies,
data = balanced_diabetes, na.action = na.roughfix)
importance(fit.forest)
w1 = importance(fit.forest)[1]/sum(importance(fit.forest))
w2 = importance(fit.forest)[2]/sum(importance(fit.forest))
w3 = importance(fit.forest)[3]/sum(importance(fit.forest))
w4 = importance(fit.forest)[4]/sum(importance(fit.forest))
w5 = importance(fit.forest)[5]/sum(importance(fit.forest))
w1 = importance(fit.forest)[1]/sum(importance(fit.forest))
w2 = importance(fit.forest)[2]/sum(importance(fit.forest))
w3 = importance(fit.forest)[3]/sum(importance(fit.forest))
w4 = importance(fit.forest)[4]/sum(importance(fit.forest))
w5 = importance(fit.forest)[5]/sum(importance(fit.forest))
w1
score = -diabetes$HvyAlcoholConsump * w1 - diabetes$Smoker * w2 +
diabetes$PhysActivity * w3 + diabetes$Fruits * w4 + diabetes$Veggies * w5
summary(score)
hist(score)
data %>% filter(score > 0.4112) %>% summarise(n=n())
library(data.table)
library(randomForest)
library(dplyr)
score = -diabetes$HvyAlcoholConsump * w1 - diabetes$Smoker * w2 +
diabetes$PhysActivity * w3 + diabetes$Fruits * w4 + diabetes$Veggies * w5
summary(score)
hist(score)
data %>% filter(score > 0.4112) %>% summarise(n=n())
score = -diabetes$HvyAlcoholConsump * w1 - diabetes$Smoker * w2 +
diabetes$PhysActivity * w3 + diabetes$Fruits * w4 + diabetes$Veggies * w5
summary(score)
hist(score)
diabetes %>% filter(score > 0.4112) %>% summarise(n=n())
diabetes %>% filter(score <= 0.4112) %>% summarise(n=n())
data$score = score
diabetes$score = score
sum(data[data$score<=mean(data$score),]$Diabetes_binary==1)
diabetes$score = score
sum(diabetes[diabetes$score<=mean(diabetes$score),]$Diabetes_binary==1)
sum(diabetes[diabetes$score>mean(diabetes$score),]$Diabetes_binary==1)
